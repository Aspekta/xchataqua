\chapter{Wie kann man XChat helfen ?}
\section{Navigieren im Code}
Die Hauptquellen vom XChat befinden sich in dem /src Verzeichnis. Darin sind alle *.c und *.h Dateien, welche XChat ausmachen.
Solltest Du Dich ein bisschen im Code umschauen wollen, ist hier eine kleine Karte:
\begin{itemize}
\item xchat.c - Hauptprogrammdatei, beinhaltet main()
\item xchat.h - Hauptbibliothekendatei, welche die meisten Hauptstrukturen im XChat benutzt
\item editlist.c - normaler Code, der zum Behandeln von editierbaren Listen benutzt wird (z.B. Liste der Benutzerlistenknöpfe)
\item fkeys.c - behandelt die Funktionstasten
\item gtkutil.c - wrappt GTK
\item outbound.c - Code für die Kommandobehandlung
\item inbound.c - Code für die Datenbehandlung vom Server
\item text.c - Code für die Textbehandlung und das Logging
\item plugin.c - der ganze Plugin Code
\end{itemize}

Die meisten anderen Dateien sind leichter zu erraten.

\section{Schreiben von Scripts}\label{scripte}
Dagmar d'Surreal hat eine Dokumentation für das Schreiben von Scripten geschrieben (in xchatdox2.html).

\section{Schreiben von Plugins}
Es sollte ein Vorlagenmodul im Sample-Verzeichnis vorhanden sein, das einen generellen Überblick gibt, um ein Modul zu schreiben.


Als erstes solltest Du \texttt{\#define USE\_PLUGIN} benutzen, bevor Du andere \texttt{\#includes} schreibst. Du solltest außerdem \texttt{xchat.h} und \texttt{plugin.h} aus dem Haupt-XChat Verzeichnis benutzen.
Jedes Modul sollte eine Funktion exportieren, die als \texttt{module\_init} benannt wird. Die Versionsnummer (ein int), ein Zeiger zur Modulstruktur für Dein Modul und ein Zeiger der derzeitigen Sitzung werden übergeben.
Sie wirft ein int zurück:
\begin{itemize}
\item[0] = Erfolg
\item[1] = fehlgeschlagen
\end{itemize}

Der Name und der Beschreibungsteil der Struktur sollten mit Zeichenketten ausgefüllt werden.


Du solltest die Versionsnummer, welche Du denkst, die es gerade ist, überprüfen, bevor Du irgendwelche Referenzen aufbaust. Die derzeitige Versionsnummer wird in \texttt{plugin.h} als \texttt{MODULE\_IFACE\_VER} definiert.


Der eigentliche Haken in XChat ist das Signal. An einigen Stellen im Code wird ein Signal gesendet.
\dots

